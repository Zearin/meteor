"use strict";(self.webpackChunkmeteor=self.webpackChunkmeteor||[]).push([[574],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return d}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=c(n),d=a,k=m["".concat(l,".").concat(d)]||m[d]||u[d]||i;return n?r.createElement(k,o(o({ref:t},p),{},{components:n})):r.createElement(k,o({ref:t},p))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var c=2;c<i;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3012:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return s},metadata:function(){return c},toc:function(){return p}});var r=n(7462),a=n(3366),i=(n(7294),n(3905)),o=["components"],s={},l="Sink",c={unversionedId:"concepts/sink",id:"concepts/sink",isDocsHomePage:!1,title:"Sink",description:"sinks are used to define the medium of consuming the metadata being extracted. You need to specify atleast one sink or can specify multiple sinks in a recipe, this will prevent you from having to create duplicate recipes for the same job. The given examples shows you its correct usage if your sink is http and kafka.",source:"@site/docs/concepts/sink.md",sourceDirName:"concepts",slug:"/concepts/sink",permalink:"/meteor/docs/concepts/sink",editUrl:"https://github.com/odpf/meteor/edit/master/docs/docs/concepts/sink.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Processor",permalink:"/meteor/docs/concepts/processor"},next:{title:"Commands",permalink:"/meteor/docs/reference/commands"}},p=[{value:"Writing <code>sinks</code> part of your recipe",id:"writing-sinks-part-of-your-recipe",children:[]},{value:"Available Sinks",id:"available-sinks",children:[]},{value:"Upcoming sinks",id:"upcoming-sinks",children:[]},{value:"Serializer",id:"serializer",children:[]},{value:"Custom Sink",id:"custom-sink",children:[{value:"Sample Custom Sink",id:"sample-custom-sink",children:[]}]}],u={toc:p};function m(e){var t=e.components,n=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"sink"},"Sink"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"sinks")," are used to define the medium of consuming the metadata being extracted. You need to specify ",(0,i.kt)("strong",{parentName:"p"},"atleast one")," sink or can specify multiple sinks in a recipe, this will prevent you from having to create duplicate recipes for the same job. The given examples shows you its correct usage if your sink is ",(0,i.kt)("inlineCode",{parentName:"p"},"http")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"kafka"),"."),(0,i.kt)("h2",{id:"writing-sinks-part-of-your-recipe"},"Writing ",(0,i.kt)("inlineCode",{parentName:"h2"},"sinks")," part of your recipe"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},'sinks: # required - at least 1 sink defined\n  - name: http\n    config:\n      method: POST\n      url: "https://example.com/metadata"\n  - name: kafka\n    config:\n      broker: localhost:9092\n      topic: "target-topic"\n      serializer:\n        type: proto\n        key: SampleLogKey\n        value: SampleLogMessage\n')),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"key"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,i.kt)("th",{parentName:"tr",align:"left"},"requirement"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"name")),(0,i.kt)("td",{parentName:"tr",align:"left"},"contains the name of sink"),(0,i.kt)("td",{parentName:"tr",align:"left"},"required")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"config")),(0,i.kt)("td",{parentName:"tr",align:"left"},"different sinks will require different configuration"),(0,i.kt)("td",{parentName:"tr",align:"left"},"optional, depends on sink")))),(0,i.kt)("h2",{id:"available-sinks"},"Available Sinks"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Console"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"name: sample-recipe\nsinks:\n  - name: console\n")),(0,i.kt)("p",null,"Print metadata to stdout."),(0,i.kt)("h2",{id:"upcoming-sinks"},"Upcoming sinks"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"HTTP"),(0,i.kt)("li",{parentName:"ul"},"Kafka")),(0,i.kt)("h2",{id:"serializer"},"Serializer"),(0,i.kt)("p",null,"By default, metadata would be serialized into JSON format before sinking. To send it using other formats, a serializer needs to be defined in the sink config."),(0,i.kt)("h2",{id:"custom-sink"},"Custom Sink"),(0,i.kt)("p",null,"Meteor has built-in sinks like Kafka and HTTP which users can just utilise directly. We will also allow creating custom sinks for DRY purposes."),(0,i.kt)("p",null,"It will be useful if you can find yourself sinking multiple metadata source to one place."),(0,i.kt)("h3",{id:"sample-custom-sink"},"Sample Custom Sink"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("em",{parentName:"li"},"central","_","metadata","_","store","_","sink.yaml"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},'name: central-metadata-store # unique sink name as an ID\nsink:\n  - name: http\n    config:\n      method: PUT\n      url: "https://metadata-store.com/metadata"\n')),(0,i.kt)("p",null,"More info about available sinks can be found ",(0,i.kt)("a",{parentName:"p",href:"/meteor/docs/reference/sinks"},"here"),"."))}m.isMDXComponent=!0}}]);